<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test S√©lection Multiple et Suppression en Masse - Clients</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .success {
            color: #4CAF50;
            background-color: #E8F5E8;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .info {
            color: #2196F3;
            background-color: #E3F2FD;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .warning {
            color: #FF9800;
            background-color: #FFF3E0;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .feature {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
            border-left: 4px solid #2196F3;
        }
        button {
            background-color: #2196F3;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #1976D2;
        }
        .test-case {
            background-color: #f0f8ff;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
            border: 1px solid #2196F3;
        }
        .code-block {
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            margin: 10px 0;
            border-left: 4px solid #4CAF50;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚ú® Test : S√©lection Multiple et Suppression en Masse - Clients</h1>
        
        <div class="success">
            <h3>‚úÖ Nouvelle fonctionnalit√© ajout√©e :</h3>
            <p>Les utilisateurs peuvent maintenant s√©lectionner plusieurs clients et les supprimer en une seule op√©ration. Cette fonctionnalit√© am√©liore consid√©rablement l'efficacit√© de la gestion des clients.</p>
        </div>

        <div class="info">
            <h3>üéØ Fonctionnalit√©s impl√©ment√©es :</h3>
            <ul>
                <li><strong>Checkbox individuelle</strong> : S√©lection de clients individuels</li>
                <li><strong>S√©lection globale</strong> : Checkbox "Tout s√©lectionner" dans l'en-t√™te</li>
                <li><strong>Indicateur visuel</strong> : Chip montrant le nombre de clients s√©lectionn√©s</li>
                <li><strong>Bouton de suppression</strong> : Appara√Æt uniquement quand des clients sont s√©lectionn√©s</li>
                <li><strong>Confirmation</strong> : Dialog de confirmation avant suppression</li>
                <li><strong>Gestion d'erreur</strong> : Gestion robuste des erreurs et √©tats de chargement</li>
            </ul>
        </div>

        <div class="feature">
            <h3>üîß Fonctionnalit√©s techniques :</h3>
            
            <div class="test-case">
                <h4>1. Interface utilisateur</h4>
                <div class="code-block">
// Checkbox dans l'en-t√™te de table
<TableCell padding="checkbox">
  <Checkbox
    indeterminate={selectedClients.length > 0 && selectedClients.length < clients.length}
    checked={clients.length > 0 && selectedClients.length === clients.length}
    onChange={handleSelectAll}
    color="primary"
  />
</TableCell>

// Checkbox pour chaque client
<TableCell padding="checkbox">
  <Checkbox
    checked={selectedClients.includes(client.id)}
    onChange={() => handleSelectClient(client.id)}
    color="primary"
  />
</TableCell>
                </div>
            </div>

            <div class="test-case">
                <h4>2. Gestion des √©tats</h4>
                <div class="code-block">
// √âtats pour la s√©lection multiple
const [selectedClients, setSelectedClients] = useState<string[]>([]);
const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);
const [isDeleting, setIsDeleting] = useState(false);

// Fonctions de gestion
const handleSelectAll = () => {
  if (selectedClients.length === clients.length) {
    setSelectedClients([]);
  } else {
    setSelectedClients(clients.map(client => client.id));
  }
};
                </div>
            </div>

            <div class="test-case">
                <h4>3. Suppression en masse</h4>
                <div class="code-block">
const confirmBulkDelete = async () => {
  setIsDeleting(true);
  try {
    // Supprimer chaque client s√©lectionn√©
    for (const clientId of selectedClients) {
      await deleteClient(clientId);
    }
    // Recharger la liste et r√©initialiser la s√©lection
    await loadClients();
    setSelectedClients([]);
    alert(`‚úÖ ${selectedClients.length} client(s) supprim√©(s) !`);
  } catch (err) {
    // Gestion d'erreur
  } finally {
    setIsDeleting(false);
  }
};
                </div>
            </div>
        </div>

        <div class="success">
            <h3>‚ú® Avantages de la fonctionnalit√© :</h3>
            <ul>
                <li>‚ö° <strong>Efficacit√©</strong> : Suppression de plusieurs clients en une op√©ration</li>
                <li>üéØ <strong>Pr√©cision</strong> : S√©lection individuelle ou globale</li>
                <li>üõ°Ô∏è <strong>S√©curit√©</strong> : Confirmation obligatoire avant suppression</li>
                <li>üìä <strong>Feedback</strong> : Indicateur visuel du nombre de clients s√©lectionn√©s</li>
                <li>üîÑ <strong>√âtat</strong> : Gestion des √©tats de chargement et d'erreur</li>
                <li>üé® <strong>UX</strong> : Interface intuitive et moderne</li>
            </ul>
        </div>

        <div class="warning">
            <h3>‚ö†Ô∏è Comportement attendu :</h3>
            <ul>
                <li><strong>S√©lection individuelle</strong> : Clic sur checkbox pour s√©lectionner/d√©s√©lectionner</li>
                <li><strong>S√©lection globale</strong> : Clic sur checkbox d'en-t√™te pour tout s√©lectionner/d√©s√©lectionner</li>
                <li><strong>Indicateur visuel</strong> : Chip "X s√©lectionn√©(s)" appara√Æt quand des clients sont s√©lectionn√©s</li>
                <li><strong>Bouton suppression</strong> : Appara√Æt uniquement avec des clients s√©lectionn√©s</li>
                <li><strong>Confirmation</strong> : Dialog de confirmation avant suppression d√©finitive</li>
            </ul>
        </div>

        <div class="feature">
            <h3>üß™ Tests √† effectuer :</h3>
            
            <div class="test-case">
                <h4>Test 1 : S√©lection individuelle</h4>
                <ol>
                    <li>Aller sur la page Clients</li>
                    <li>Cliquer sur les checkboxes de plusieurs clients</li>
                    <li>V√©rifier que le chip "X s√©lectionn√©(s)" appara√Æt</li>
                    <li>V√©rifier que le bouton "Supprimer s√©lection" appara√Æt</li>
                </ol>
            </div>

            <div class="test-case">
                <h4>Test 2 : S√©lection globale</h4>
                <ol>
                    <li>Cliquer sur la checkbox d'en-t√™te</li>
                    <li>V√©rifier que tous les clients sont s√©lectionn√©s</li>
                    <li>Cliquer √† nouveau pour tout d√©s√©lectionner</li>
                    <li>V√©rifier que le chip et le bouton disparaissent</li>
                </ol>
            </div>

            <div class="test-case">
                <h4>Test 3 : Suppression en masse</h4>
                <ol>
                    <li>S√©lectionner plusieurs clients</li>
                    <li>Cliquer sur "Supprimer s√©lection"</li>
                    <li>Confirmer dans le dialog</li>
                    <li>V√©rifier que les clients sont supprim√©s</li>
                    <li>V√©rifier le message de confirmation</li>
                </ol>
            </div>

            <div class="test-case">
                <h4>Test 4 : Annulation</h4>
                <ol>
                    <li>S√©lectionner des clients</li>
                    <li>Cliquer sur "Supprimer s√©lection"</li>
                    <li>Cliquer sur "Annuler" dans le dialog</li>
                    <li>V√©rifier que les clients ne sont pas supprim√©s</li>
                </ol>
            </div>
        </div>

        <button onclick="window.open('https://atelier-gestion-r9qagbsgn-sasharohees-projects.vercel.app/app/transaction/clients', '_blank')">
            üöÄ Tester la s√©lection multiple
        </button>

        <div class="info">
            <h3>üìã Interface utilisateur :</h3>
            <ul>
                <li><strong>Checkbox d'en-t√™te</strong> : S√©lection/d√©s√©lection de tous les clients</li>
                <li><strong>Checkbox individuelle</strong> : S√©lection de clients sp√©cifiques</li>
                <li><strong>Chip indicateur</strong> : "X s√©lectionn√©(s)" quand des clients sont s√©lectionn√©s</li>
                <li><strong>Bouton suppression</strong> : "Supprimer s√©lection" avec ic√¥ne de suppression</li>
                <li><strong>Dialog confirmation</strong> : Confirmation avant suppression d√©finitive</li>
            </ul>
        </div>

        <div class="success">
            <h3>üéâ R√©sultat final :</h3>
            <p>Les utilisateurs peuvent maintenant g√©rer efficacement leurs clients avec la s√©lection multiple et la suppression en masse. Cette fonctionnalit√© am√©liore consid√©rablement l'exp√©rience utilisateur et la productivit√©.</p>
        </div>

        <div class="info">
            <h3>üîó D√©ploiement :</h3>
            <ul>
                <li><strong>GitHub</strong> : Commit <code>4296b0f</code> - "‚ú® Add bulk selection and deletion for clients"</li>
                <li><strong>Vercel</strong> : D√©ploiement r√©ussi</li>
                <li><strong>URL Production</strong> : https://atelier-gestion-r9qagbsgn-sasharohees-projects.vercel.app</li>
            </ul>
        </div>
    </div>
</body>
</html>
